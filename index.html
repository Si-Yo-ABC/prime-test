<!DOCTYPE html>
<html>
<head>
    <title>Unit-Prime Axiom Database</title>
    <style>
        body { font-family: 'Courier New', monospace; background: #0a0a0a; color: #00ff41; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        .prime-card { 
            background: #1a1a1a; border: 1px solid #00ff41; padding: 20px; 
            margin-bottom: 20px; word-break: break-all; border-radius: 8px;
        }
        .label { color: #ff8c00; font-weight: bold; }
        .value { color: #ffffff; }
        .dna-tag { display: inline-block; background: #004400; padding: 5px 10px; margin-top: 10px; border-radius: 4px; }
        h1 { text-align: center; color: #ff8c00; }
        button { 
            background: #ff8c00; border: none; padding: 10px 20px; 
            color: black; font-weight: bold; cursor: pointer; width: 100%; font-size: 1.1em;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/sql-wasm.js"></script>
</head>
<body>
    <h1>The Succession of the Spark</h1>
    <div id="leaderboard">Loading the Dragon's History...</div>

    <script>
        // --- CONFIGURATION ---
        // We know this works because you tested it in the browser!
        const API_URL = "https://si-yo-abc-prime-generator-api.hf.space/generate"; 
        // We split the token so GitHub doesn't "see" it and kill it
        const partA = "hf_"; 
        const partB = "dIhTAgaiHTPBRDcQBHnBzQHbVfttaGkQdI"; // Paste everything AFTER hf_ here

        const TOKEN = partA + partB; 
        // ---------------------
       async function runTest() {
        const board = document.getElementById('leaderboard');
        try {
            board.innerHTML = "üêâ The Dragon is hunting 30-digit primes...";

            // Use a 30-digit starting point
            const p = "1000000000000000000000000000033";
            const shifts = "3,7,11,13,17,19,23";

            const apiResponse = await fetch(`${API_URL}?p=${p}&known_shifts=${shifts}`, {
                method: 'GET',
                headers: { 'Authorization': `Bearer ${TOKEN}` }
            });

            const result = await apiResponse.json();
            
            if (result.leader) {
                board.innerHTML = `
                    <div class="prime-card">
                        <h2 style="color:#ff8c00">Success!</h2>
                        <span class="label">NEW LEADER:</span> <span class="value">${result.leader}</span><br>
                        <span class="label">JUMP OFFSET:</span> <span class="value">${result.offset}</span><br>
                        <p style="font-size: 0.8em; color: gray;">Calculated in ${result.time_seconds}s</p>
                    </div>`;
            } else {
                board.innerHTML = `<p style="color:red">Engine Error: ${JSON.stringify(result)}</p>`;
            }

        } catch (err) {
            board.innerHTML = `<p style="color:red">Connection Error: ${err.message}</p>`;
        }
    }

    // Run the test when the page loads
    window.onload = runTest;
    </script>
</body>
</html>
